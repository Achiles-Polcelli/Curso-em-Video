<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de dias de vida</title>
</head>
<body>
    <div class="box">
        <p>
            Digite sua data de nascimento:
            <input type="date" name="txtn1" id="txtn1">
        </p>
        <p>
            <input type="button" value="Verificar" onclick="verificar()">
        </p>
        <div id="res">
        </div>

        <script>
            function verificar() {
                var txtn1 = window.document.querySelector('input#txtn1')
                var res = window.document.querySelector('div#res')
                if (!txtn1.value) {
                    res.innerHTML = 'Por favor, digite sua data de nascimento.'
                    return
                }
                var dataNascimento = new Date(txtn1.value + 'T00:00:00')
                var dataAtual = new Date()
                
                if (isNaN(dataNascimento.getTime())) {
                    res.innerHTML = 'Data inválida. Por favor, verifique a data informada.'
                    return
                }
                
                if (dataNascimento > dataAtual) {
                    res.innerHTML = 'A data de nascimento não pode ser no futuro!'
                    return
                }
                var diferencaMs = dataAtual - dataNascimento
                var dias = Math.floor(diferencaMs / (1000 * 60 * 60 * 24))
                
                var nascimento = new Date(dataNascimento.getFullYear(), dataNascimento.getMonth(), dataNascimento.getDate())
                var atual = new Date(dataAtual.getFullYear(), dataAtual.getMonth(), dataAtual.getDate())

                // Calcula anos vividos
                var anos = atual.getFullYear() - nascimento.getFullYear()

                // Calcula meses vividos
                var meses = atual.getMonth() - nascimento.getMonth()
                if (meses < 0) {
                    anos--
                    meses += 12
                }

                // Calcula dias vividos
                var dias = atual.getDate() - nascimento.getDate()
                if (dias < 0) {
                    meses--
                    // Pega o último dia do mês anterior
                    var ultimoDiaMesAnterior = new Date(atual.getFullYear(), atual.getMonth(), 0).getDate()
                    dias += ultimoDiaMesAnterior
                    if (meses < 0) {
                        anos--
                        meses += 12
                    }
                }
                res.innerHTML = `Você já viveu ${anos} anos, ${meses} meses e ${dias} dias`
            }
        </script>
</body>
</html>